<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-T">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Quiz Constitucional Interativo</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Inter', sans-serif;
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            background-color: #f0f4f8; /* Tailwind bg-slate-100 */
            margin: 0;
            padding: 1rem;
        }
        #game-container {
            background-color: white;
            padding: 1.5rem; /* Tailwind p-6 */
            border-radius: 0.5rem; /* Tailwind rounded-lg */
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06); /* Tailwind shadow-md */
            width: 100%;
            max-width: 600px;
            text-align: center;
        }
        .option-button, #skip-button, #start-button, #restart-button {
            transition: background-color 0.3s ease, transform 0.1s ease;
        }
        .option-button:hover, #skip-button:hover, #start-button:hover, #restart-button:hover {
            filter: brightness(90%);
        }
        .option-button:active, #skip-button:active, #start-button:active, #restart-button:active {
            transform: scale(0.98);
        }
        #analog-clock {
            margin: 1rem auto; /* Tailwind my-4 mx-auto */
            display: block;
        }
        #status-bar {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 1rem; /* Tailwind mb-4 */
            font-size: 0.875rem; /* Tailwind text-sm */
            color: #4A5568; /* Tailwind text-gray-700 */
        }
        #lives-container span, #skips-container span {
            display: inline-block;
            margin-left: 0.25rem; /* Tailwind ml-1 */
        }
        .heart-icon {
            color: #E53E3E; /* Tailwind text-red-600 */
            font-size: 1.25rem; /* Tailwind text-xl */
        }
        #question-text {
            min-height: 60px; /* Adjust as needed to prevent layout shifts */
            margin-bottom: 1rem; /* Tailwind mb-4 */
            font-size: 1.125rem; /* Tailwind text-lg */
            color: #2D3748; /* Tailwind text-gray-800 */
        }
        #options-area button {
            width: 100%;
            margin-bottom: 0.5rem; /* Tailwind mb-2 */
        }
        #message-area {
            min-height: 24px; /* To prevent layout shift */
            margin-top: 1rem; /* Tailwind mt-4 */
            font-weight: 600; /* Tailwind font-semibold */
        }
        .message-correct {
            color: #38A169; /* Tailwind text-green-600 */
        }
        .message-incorrect {
            color: #E53E3E; /* Tailwind text-red-600 */
        }
        .message-info {
            color: #4A5568; /* Tailwind text-gray-700 */
        }
         /* Ensure clock hands are above the face markings */
        #second-hand { z-index: 10; }
        .clock-marking {
            font-size: 10px; /* Tailwind text-xs, approx */
            fill: #4A5568; /* Tailwind text-gray-700 */
        }
    </style>
</head>
<body>
    <div id="game-container" class="bg-white p-6 rounded-lg shadow-xl w-full max-w-2xl text-center">
        <h1 class="text-2xl font-bold mb-6 text-slate-700">Quiz Constitucional</h1>
        
        <div id="status-bar" class="flex justify-between items-center mb-6 text-slate-600">
            <div id="lives-container">
                Vidas: 
                <span id="lives-icons">
                    <span class="heart-icon">‚ù§Ô∏è</span>
                    <span class="heart-icon">‚ù§Ô∏è</span>
                    <span class="heart-icon">‚ù§Ô∏è</span>
                </span>
            </div>
            <div id="skips-container">
                Pular: <span id="skip-count" class="font-semibold">1</span>
            </div>
            <div>Pontos: <span id="score" class="font-semibold">0</span></div>
        </div>

        <div id="clock-container" class="my-6">
            <svg id="analog-clock" width="120" height="120" viewBox="0 0 100 100">
                <circle cx="50" cy="50" r="48" stroke="#CBD5E0" stroke-width="3" fill="#F8FAFC" /> {/* Tailwind stroke-slate-300, fill-slate-50 */}
                {/* Markings */}
                <text x="46" y="15" class="clock-marking">12</text>
                <text x="83" y="54" class="clock-marking">3</text>
                <text x="47" y="90" class="clock-marking">6</text>
                <text x="10" y="54" class="clock-marking">9</text>
                <line id="second-hand" x1="50" y1="50" x2="50" y2="15" stroke="#F56565" stroke-width="2.5" stroke-linecap="round" /> {/* Tailwind stroke-red-500 */}
            </svg>
        </div>

        <div id="question-area" class="mb-6">
            <p id="question-text" class="text-lg text-slate-800 min-h-[72px] flex items-center justify-center"></p>
        </div>

        <div id="options-area" class="grid grid-cols-1 gap-3 mb-6">
            <button class="option-button bg-sky-500 hover:bg-sky-600 text-white font-semibold py-3 px-4 rounded-lg shadow" id="option1"></button>
            <button class="option-button bg-sky-500 hover:bg-sky-600 text-white font-semibold py-3 px-4 rounded-lg shadow" id="option2"></button>
        </div>
        
        <button id="skip-button" class="bg-amber-500 hover:bg-amber-600 text-white font-semibold py-2 px-5 rounded-lg shadow mb-6">Pular Pergunta</button>

        <div id="message-area" class="text-md font-semibold min-h-[24px] mb-6"></div>

        <button id="start-button" class="bg-emerald-500 hover:bg-emerald-600 text-white font-bold py-3 px-6 rounded-lg shadow text-lg">Iniciar Jogo</button>
        <button id="restart-button" class="bg-blue-500 hover:bg-blue-600 text-white font-bold py-3 px-6 rounded-lg shadow text-lg" style="display:none;">Jogar Novamente</button>
    </div>

    <script>
        const rawQuizData = `
Constitui√ß√£o Federal: Conceito, Classifica√ß√µes e Princ√≠pios Fundamentais
Quest√£o:  Conforme a doutrina majorit√°ria, a Constitui√ß√£o Federal de 1988, quanto √† sua origem, √© classificada como:
a) Outorgada
b) Promulgada
c) Cesarista
d) Pactuada
Gabarito:  b) Promulgada
Quest√£o:  O Pre√¢mbulo da Constitui√ß√£o Federal de 1988, segundo o Supremo Tribunal Federal (STF), possui relev√¢ncia jur√≠dica e for√ßa normativa id√™ntica √†s normas do corpo principal da Constitui√ß√£o. Esta afirma√ß√£o √©:
a) Verdadeira, pois o Pre√¢mbulo estabelece os valores supremos da sociedade.
b) Falsa, pois o Pre√¢mbulo, segundo o STF, n√£o se situa no √¢mbito do Direito, mas no dom√≠nio da pol√≠tica, n√£o possuindo for√ßa normativa.
c) Verdadeira, sendo norma de reprodu√ß√£o obrigat√≥ria nas Constitui√ß√µes Estaduais.
d) Falsa, pois o Pre√¢mbulo apenas possui for√ßa normativa para interpretar as cl√°usulas p√©treas.
Gabarito:  b) Falsa, pois o Pre√¢mbulo, segundo o STF, n√£o se situa no √¢mbito do Direito, mas no dom√≠nio da pol√≠tica, n√£o possuindo for√ßa normativa.
Quest√£o:  S√£o fundamentos da Rep√∫blica Federativa do Brasil, expressos no Art. 1¬∫ da Constitui√ß√£o Federal:
a) A soberania, a cidadania, a dignidade da pessoa humana, os valores sociais do trabalho e da livre iniciativa, e o pluralismo pol√≠tico.
b) Construir uma sociedade livre, justa e solid√°ria, e garantir o desenvolvimento nacional.
c) A independ√™ncia nacional, a preval√™ncia dos direitos humanos e a autodetermina√ß√£o dos povos.
d) A forma republicana, o sistema representativo e o regime democr√°tico.
Gabarito:  a) A soberania, a cidadania, a dignidade da pessoa humana, os valores sociais do trabalho e da livre iniciativa, e o pluralismo pol√≠tico.
Quest√£o:  Quanto √† sua alterabilidade, a Constitui√ß√£o Federal de 1988 √© classificada como:
a) Flex√≠vel
b) Semirr√≠gida
c) R√≠gida
d) Imut√°vel
Gabarito:  c) R√≠gida
Seguran√ßa P√∫blica (Art. 144)
Quest√£o:  A seguran√ßa p√∫blica, dever do Estado, direito e responsabilidade de todos, √© exercida para a preserva√ß√£o da ordem p√∫blica e da incolumidade das pessoas e do patrim√¥nio, atrav√©s de quais √≥rg√£os listados no Art. 144 da Constitui√ß√£o Federal?
a) Pol√≠cia federal, pol√≠cia rodovi√°ria federal, pol√≠cias civis, pol√≠cias militares e corpos de bombeiros militares, e pol√≠cias penais federal, estaduais e distrital.
b) For√ßas Armadas, pol√≠cia federal, pol√≠cias civis e guardas municipais.
c) Pol√≠cia federal, pol√≠cia ferrovi√°ria federal, pol√≠cias civis, pol√≠cias militares e corpos de bombeiros militares.
d) Ex√©rcito, Marinha, Aeron√°utica, pol√≠cias militares e pol√≠cias penais.
Gabarito:  a) Pol√≠cia federal, pol√≠cia rodovi√°ria federal, pol√≠cias civis, pol√≠cias militares e corpos de bombeiros militares, e pol√≠cias penais federal, estaduais e distrital.
Quest√£o:  Conforme o Art. 144, ¬ß 8¬∫, da Constitui√ß√£o Federal, os Munic√≠pios poder√£o constituir guardas municipais destinadas √† prote√ß√£o de seus bens, servi√ßos e instala√ß√µes, conforme dispuser:
a) Lei complementar federal.
b) Lei ordin√°ria federal.
c) Lei estadual.
d) A lei. (referindo-se √† lei municipal)
Gabarito:  d) A lei.
Direitos e Garantias Fundamentais
Quest√£o:  O direito √† vida, previsto no caput do Art. 5¬∫ da CF/88, abrange:
a) Apenas o direito de n√£o ser morto.
b) Apenas o direito a uma vida digna.
c) Tanto o direito de n√£o ser privado da vida quanto o direito de ter uma vida digna.
d) Exclusivamente a proibi√ß√£o da pena de morte, sem exce√ß√µes.
Gabarito:  c) Tanto o direito de n√£o ser privado da vida quanto o direito de ter uma vida digna.
Quest√£o:  S√£o direitos sociais expressamente mencionados no Art. 6¬∫ da Constitui√ß√£o Federal, entre outros:
a) A educa√ß√£o, a sa√∫de, a alimenta√ß√£o, o trabalho, a moradia, o transporte, o lazer.
b) A propriedade, a seguran√ßa, a livre manifesta√ß√£o do pensamento.
c) A nacionalidade, a cidadania, os direitos pol√≠ticos.
d) O meio ambiente equilibrado, a prote√ß√£o ao consumidor, a livre concorr√™ncia.
Gabarito:  a) A educa√ß√£o, a sa√∫de, a alimenta√ß√£o, o trabalho, a moradia, o transporte, o lazer.
Quest√£o:  A Constitui√ß√£o Federal estabelece que s√£o brasileiros natos:
a) Os nascidos na Rep√∫blica Federativa do Brasil, ainda que de pais estrangeiros, desde que estes n√£o estejam a servi√ßo de seu pa√≠s.
b) Os nascidos no estrangeiro, de pai brasileiro ou m√£e brasileira, desde que qualquer deles esteja a servi√ßo da Rep√∫blica Federativa do Brasil.
c) Os nascidos no estrangeiro de pai brasileiro ou de m√£e brasileira, desde que sejam registrados em reparti√ß√£o brasileira competente ou venham a residir na Rep√∫blica Federativa do Brasil e optem, em qualquer tempo, depois de atingida a maioridade, pela nacionalidade brasileira.
d) Todas as alternativas anteriores est√£o corretas.
Gabarito:  d) Todas as alternativas anteriores est√£o corretas.
Quest√£o:  A perda da nacionalidade brasileira para aquele que adquirir outra nacionalidade ocorrer√°, salvo nos casos de:
a) Reconhecimento de nacionalidade origin√°ria pela lei estrangeira.
b) Imposi√ß√£o de naturaliza√ß√£o, pela norma estrangeira, ao brasileiro residente em estado estrangeiro, como condi√ß√£o para perman√™ncia em seu territ√≥rio ou para o exerc√≠cio de direitos civis.
c) Ambas as alternativas anteriores est√£o corretas.
d) Nenhuma das alternativas anteriores, pois a perda √© autom√°tica ao adquirir outra nacionalidade.
Gabarito:  c) Ambas as alternativas anteriores est√£o corretas.
Quest√£o:  A soberania popular ser√° exercida pelo sufr√°gio universal e pelo voto direto e secreto, com valor igual para todos, e, nos termos da lei, mediante:
a) Plebiscito, referendo e iniciativa popular.
b) Apenas elei√ß√µes diretas para cargos executivos e legislativos.
c) Veto popular, recall e consulta p√∫blica.
d) A√ß√£o popular, mandado de injun√ß√£o e habeas data.
Gabarito:  a) Plebiscito, referendo e iniciativa popular.
Quest√£o:  De acordo com a Constitui√ß√£o Federal, os partidos pol√≠ticos t√™m assegurada autonomia para definir sua estrutura interna, organiza√ß√£o e funcionamento. Esta afirma√ß√£o √©:
a) Falsa, pois os partidos pol√≠ticos devem seguir rigidamente o modelo estabelecido em lei federal.
b) Verdadeira, devendo seus estatutos estabelecer normas de disciplina e fidelidade partid√°ria.
c) Falsa, pois a organiza√ß√£o interna √© definida pelo Tribunal Superior Eleitoral.
d) Verdadeira, mas sem a necessidade de observar a fidelidade partid√°ria.
Gabarito:  b) Verdadeira, devendo seus estatutos estabelecer normas de disciplina e fidelidade partid√°ria.
Organiza√ß√£o Pol√≠tico-Administrativa
Quest√£o:  A organiza√ß√£o pol√≠tico-administrativa da Rep√∫blica Federativa do Brasil compreende:
a) A Uni√£o, os Estados, o Distrito Federal e os Munic√≠pios, todos aut√¥nomos.
b) Apenas a Uni√£o e os Estados, sendo o Distrito Federal e os Munic√≠pios territ√≥rios federais.
c) A Uni√£o, os Estados e os Munic√≠pios, sendo o Distrito Federal subordinado √† Uni√£o.
d) Apenas a Uni√£o, como entidade soberana, e os Estados como divis√µes administrativas.
Gabarito:  a) A Uni√£o, os Estados, o Distrito Federal e os Munic√≠pios, todos aut√¥nomos.
Quest√£o:  A cria√ß√£o, a incorpora√ß√£o, a fus√£o e o desmembramento de Munic√≠pios far-se-√£o por:
a) Lei federal, ap√≥s consulta plebiscit√°ria √†s popula√ß√µes dos Munic√≠pios envolvidos.
b) Lei estadual, dentro do per√≠odo determinado por Lei Complementar Federal, e depender√£o de consulta pr√©via, mediante plebiscito, √†s popula√ß√µes dos Munic√≠pios envolvidos, ap√≥s divulga√ß√£o dos Estudos de Viabilidade Municipal.
c) Decreto do Governador do Estado, ap√≥s aprova√ß√£o da Assembleia Legislativa.
d) Lei complementar estadual, dispensada a consulta plebiscit√°ria.
Gabarito:  b) Lei estadual, dentro do per√≠odo determinado por Lei Complementar Federal, e depender√£o de consulta pr√©via, mediante plebiscito, √†s popula√ß√µes dos Munic√≠pios envolvidos, ap√≥s divulga√ß√£o dos Estudos de Viabilidade Municipal.
Quest√£o:  Os Territ√≥rios Federais integram a Uni√£o, e sua cria√ß√£o, transforma√ß√£o em Estado ou reintegra√ß√£o ao Estado de origem ser√£o reguladas em:
a) Lei ordin√°ria federal.
b) Lei complementar.
c) Decreto presidencial.
d) Resolu√ß√£o do Congresso Nacional.
Gabarito:  b) Lei complementar.
Administra√ß√£o P√∫blica
Quest√£o:  A administra√ß√£o p√∫blica direta e indireta de qualquer dos Poderes da Uni√£o, dos Estados, do Distrito Federal e dos Munic√≠pios obedecer√° aos princ√≠pios de:
a) Legalidade, impessoalidade, moralidade, publicidade e efici√™ncia.
b) Supremacia do interesse p√∫blico, razoabilidade, proporcionalidade e motiva√ß√£o.
c) Autotutela, hierarquia, discricionariedade e vincula√ß√£o.
d) Economicidade, celeridade, formalismo moderado e boa-f√©.
Gabarito:  a) Legalidade, impessoalidade, moralidade, publicidade e efici√™ncia.
Quest√£o:  A investidura em cargo ou emprego p√∫blico depende de aprova√ß√£o pr√©via em concurso p√∫blico de provas ou de provas e t√≠tulos, de acordo com a natureza e a complexidade do cargo ou emprego, na forma prevista em lei, ressalvadas as nomea√ß√µes para:
a) Cargos em comiss√£o declarados em lei de livre nomea√ß√£o e exonera√ß√£o.
b) Fun√ß√µes de confian√ßa, exercidas exclusivamente por servidores ocupantes de cargo efetivo.
c) Cargos eletivos.
d) Apenas a alternativa "a" est√° correta.
Gabarito:  d) Apenas a alternativa "a" est√° correta.
Quest√£o:  S√£o est√°veis ap√≥s tr√™s anos de efetivo exerc√≠cio os servidores nomeados para cargo de provimento efetivo em virtude de concurso p√∫blico. O servidor p√∫blico est√°vel s√≥ perder√° o cargo:
a) Em virtude de senten√ßa judicial transitada em julgado ou mediante processo administrativo em que lhe seja assegurada ampla defesa.
b) Mediante procedimento de avalia√ß√£o peri√≥dica de desempenho, na forma de lei complementar, assegurada ampla defesa.
c) Ambas as alternativas anteriores est√£o corretas.
d) Apenas por decis√£o unilateral da autoridade administrativa superior.
Gabarito:  c) Ambas as alternativas anteriores est√£o corretas.
Poder Executivo: Atribui√ß√µes do Presidente da Rep√∫blica e dos Ministros de Estado
Quest√£o:  Compete privativamente ao Presidente da Rep√∫blica:
a) Sancionar, promulgar e fazer publicar as leis, bem como expedir decretos e regulamentos para sua fiel execu√ß√£o.
b) Julgar as contas prestadas pelo Tribunal de Contas da Uni√£o.
c) Autorizar referendo e convocar plebiscito.
d) Elaborar o regimento interno do Congresso Nacional.
Gabarito:  a) Sancionar, promulgar e fazer publicar as leis, bem como expedir decretos e regulamentos para sua fiel execu√ß√£o.
Quest√£o:  Os Ministros de Estado ser√£o escolhidos dentre brasileiros:
a) Apenas natos, maiores de trinta e cinco anos.
b) Maiores de vinte e um anos e no exerc√≠cio dos direitos pol√≠ticos.
c) Que sejam membros do Congresso Nacional.
d) Apenas com forma√ß√£o superior na √°rea de atua√ß√£o do respectivo Minist√©rio.
Gabarito:  b) Maiores de vinte e um anos e no exerc√≠cio dos direitos pol√≠ticos.
Quest√£o:  O Presidente da Rep√∫blica poder√° delegar aos Ministros de Estado, entre outras, a atribui√ß√£o de:
a) Declarar guerra, no caso de agress√£o estrangeira, autorizado pelo Congresso Nacional.
b) Conceder indulto e comutar penas, com audi√™ncia, se necess√°rio, dos √≥rg√£os institu√≠dos em lei.
c) Vetar projetos de lei, total ou parcialmente.
d) Editar medidas provis√≥rias com for√ßa de lei.
Gabarito:  b) Conceder indulto e comutar penas, com audi√™ncia, se necess√°rio, dos √≥rg√£os institu√≠dos em lei.
Finan√ßas P√∫blicas: Normas Gerais e Or√ßamentos
Quest√£o:  O Plano Plurianual (PPA), as Diretrizes Or√ßament√°rias (LDO) e os Or√ßamentos Anuais (LOA) s√£o instrumentos de planejamento e or√ßamento de iniciativa:
a) Exclusiva do Poder Legislativo.
b) Exclusiva do Poder Executivo.
c) Concorrente entre o Poder Executivo e o Poder Legislativo.
d) Do Tribunal de Contas da Uni√£o.
Gabarito:  b) Exclusiva do Poder Executivo.
Quest√£o:  A Lei de Diretrizes Or√ßament√°rias (LDO) compreender√° as metas e prioridades da administra√ß√£o p√∫blica federal, incluindo as despesas de capital para o exerc√≠cio financeiro subsequente, orientar√° a elabora√ß√£o da lei or√ßament√°ria anual, dispor√° sobre as altera√ß√µes na legisla√ß√£o tribut√°ria e estabelecer√°:
a) O detalhamento de todas as receitas e despesas do governo.
b) A pol√≠tica de aplica√ß√£o das ag√™ncias financeiras oficiais de fomento.
c) As normas para fiscaliza√ß√£o financeira e controle externo.
d) Os programas de dura√ß√£o continuada.
Gabarito:  b) A pol√≠tica de aplica√ß√£o das ag√™ncias financeiras oficiais de fomento.
Quest√£o:  Nenhum investimento cuja execu√ß√£o ultrapasse um exerc√≠cio financeiro poder√° ser iniciado sem pr√©via inclus√£o:
a) Na lei or√ßament√°ria anual, ou sem lei que autorize a inclus√£o, sob pena de crime de responsabilidade.
b) No plano plurianual, ou sem lei que autorize a inclus√£o, sob pena de crime de responsabilidade.
c) Na lei de diretrizes or√ßament√°rias, ou sem autoriza√ß√£o expressa do Tribunal de Contas.
d) Em decreto presidencial espec√≠fico, ap√≥s aprova√ß√£o do Congresso Nacional.
Gabarito:  b) No plano plurianual, ou sem lei que autorize a inclus√£o, sob pena de crime de responsabilidade.
Ordem Social: Disposi√ß√µes Gerais e Previd√™ncia Social
Quest√£o:  A ordem social tem como base o primado do trabalho, e como objetivo:
a) O bem-estar e a justi√ßa sociais.
b) O desenvolvimento econ√¥mico e a livre concorr√™ncia.
c) A soberania nacional e a propriedade privada.
d) A garantia da ordem p√∫blica e a seguran√ßa individual.
Gabarito:  a) O bem-estar e a justi√ßa sociais.
Quest√£o:  A seguridade social compreende um conjunto integrado de a√ß√µes de iniciativa dos Poderes P√∫blicos e da sociedade, destinadas a assegurar os direitos relativos √†:
a) Sa√∫de, previd√™ncia e assist√™ncia social.
b) Educa√ß√£o, cultura e esporte.
c) Moradia, transporte e lazer.
d) Seguran√ßa, trabalho e meio ambiente.
Gabarito:  a) Sa√∫de, previd√™ncia e assist√™ncia social.
Quest√£o:  A assist√™ncia social ser√° prestada a quem dela necessitar, independentemente de:
a) Comprova√ß√£o de resid√™ncia no pa√≠s.
b) Contribui√ß√£o √† seguridade social.
c) Nacionalidade brasileira.
d) Idade m√≠nima estabelecida em lei.
Gabarito:  b) Contribui√ß√£o √† seguridade social.
Quest√£o:  Um dos objetivos da assist√™ncia social, conforme a Constitui√ß√£o Federal, √©:
a) A garantia de um sal√°rio m√≠nimo de benef√≠cio mensal √† pessoa portadora de defici√™ncia e ao idoso que comprovem n√£o possuir meios de prover √† pr√≥pria manuten√ß√£o ou de t√™-la provida por sua fam√≠lia.
b) A prote√ß√£o √† fam√≠lia, √† maternidade, √† inf√¢ncia, √† adolesc√™ncia e √† velhice.
c) A redu√ß√£o da vulnerabilidade socioecon√¥mica de fam√≠lias em situa√ß√£o de pobreza ou de extrema pobreza.
d) Todas as alternativas anteriores est√£o corretas.
Gabarito:  d) Todas as alternativas anteriores est√£o corretas.
Quest√£o:  O ¬ß 1¬∫ do Art. 6¬∫ da Constitui√ß√£o Federal (inclu√≠do pela EC n¬∫ 114/2021) estabelece que todo brasileiro em situa√ß√£o de vulnerabilidade social ter√° direito a uma renda b√°sica familiar, garantida pelo Poder P√∫blico em programa permanente de transfer√™ncia de renda, cujas normas e requisitos de acesso ser√£o determinados em lei. Esta afirma√ß√£o √©:
a) Falsa, pois a Constitui√ß√£o n√£o prev√™ um programa permanente de transfer√™ncia de renda.
b) Verdadeira, devendo-se observar a legisla√ß√£o fiscal e or√ßament√°ria.
c) Falsa, pois o direito √† renda b√°sica familiar √© restrito a idosos e pessoas com defici√™ncia.
d) Verdadeira, mas sua implementa√ß√£o independe de lei, bastando decreto presidencial.
Gabarito:  b) Verdadeira, devendo-se observar a legisla√ß√£o fiscal e or√ßament√°ria.
        `;

        // DOM Elements
        const questionTextEl = document.getElementById('question-text');
        const option1Button = document.getElementById('option1');
        const option2Button = document.getElementById('option2');
        const skipButton = document.getElementById('skip-button');
        const scoreEl = document.getElementById('score');
        const livesIconsEl = document.getElementById('lives-icons');
        const skipCountEl = document.getElementById('skip-count');
        const messageAreaEl = document.getElementById('message-area');
        const startButton = document.getElementById('start-button');
        const restartButton = document.getElementById('restart-button');
        const secondHandEl = document.getElementById('second-hand');
        const clockContainerEl = document.getElementById('clock-container');
        const optionsAreaEl = document.getElementById('options-area');
        const questionAreaEl = document.getElementById('question-area');
        const statusBarEl = document.getElementById('status-bar');


        // Game State
        let allQuestions = [];
        let shuffledQuestions = [];
        let currentQuestionIndex = 0;
        let score = 0;
        let lives = 3;
        let skipsAvailable = 1;
        let timerInterval;
        let timeLeft = 60; // 60 seconds per question

        function parseRawQuestions(rawText) {
            const parsed = [];
            const rawQuestionBlocks = rawText.trim().split("Quest√£o:").slice(1); 

            for (const block of rawQuestionBlocks) {
                const entry = block.trim();
                const lines = entry.split('\n').map(line => line.trim()).filter(line => line);

                if (lines.length < 6) { // Question, 4 options, 1 gabarito
                    console.warn("Skipping malformed block (not enough lines):", entry);
                    continue;
                }

                const question = lines[0];
                const optionsMap = {};
                let correctLetter = '';

                for (let i = 1; i < lines.length; i++) {
                    const line = lines[i];
                    if (line.startsWith('a)')) optionsMap.a = line.substring(2).trim();
                    else if (line.startsWith('b)')) optionsMap.b = line.substring(2).trim();
                    else if (line.startsWith('c)')) optionsMap.c = line.substring(2).trim();
                    else if (line.startsWith('d)')) optionsMap.d = line.substring(2).trim();
                    else if (line.toLowerCase().startsWith('gabarito:')) {
                        const gabaritoMatch = line.match(/Gabarito:\s*([a-d])/i);
                        if (gabaritoMatch) {
                            correctLetter = gabaritoMatch[1].toLowerCase();
                        }
                        break; 
                    }
                }

                if (!correctLetter || Object.keys(optionsMap).length < 4) {
                    console.warn("Could not parse all options or gabarito for block:", entry, "Q:", question, "Opts:", optionsMap, "CL:", correctLetter);
                    continue;
                }
                
                const correctAnswerText = optionsMap[correctLetter];
                if (!correctAnswerText) {
                    console.warn("Correct answer text not found for letter:", correctLetter, "in question:", question);
                    continue;
                }

                const incorrectOptionsTexts = [];
                for (const key in optionsMap) {
                    if (key !== correctLetter) {
                        incorrectOptionsTexts.push(optionsMap[key]);
                    }
                }

                if (incorrectOptionsTexts.length === 0) {
                     console.warn("Not enough incorrect options for question:", question);
                     continue;
                }
                
                const chosenIncorrectAnswerText = incorrectOptionsTexts.sort(() => 0.5 - Math.random())[0];

                const gameOptions = [
                    { text: correctAnswerText, correct: true },
                    { text: chosenIncorrectAnswerText, correct: false }
                ];
                gameOptions.sort(() => 0.5 - Math.random()); // Shuffle the two options

                parsed.push({ question, options: gameOptions });
            }
            if (parsed.length === 0 && rawQuestionBlocks.length > 0) {
                 console.error("Parsing failed to produce any questions. Check input data and parsing logic.");
            }
            return parsed;
        }

        function updateLivesDisplay() {
            livesIconsEl.innerHTML = '';
            for (let i = 0; i < lives; i++) {
                const heart = document.createElement('span');
                heart.classList.add('heart-icon');
                heart.textContent = '‚ù§Ô∏è';
                livesIconsEl.appendChild(heart);
            }
             for (let i = lives; i < 3; i++) { // Show empty hearts or placeholders if preferred
                const emptyHeart = document.createElement('span');
                emptyHeart.classList.add('heart-icon', 'opacity-30');
                emptyHeart.textContent = '‚ù§Ô∏è';
                livesIconsEl.appendChild(emptyHeart);
            }
        }

        function startGame() {
            allQuestions = parseRawQuestions(rawQuizData);
            if (allQuestions.length === 0) {
                messageAreaEl.textContent = "Erro ao carregar perguntas. Tente recarregar a p√°gina.";
                messageAreaEl.className = 'message-incorrect';
                startButton.style.display = 'none';
                return;
            }

            shuffledQuestions = [...allQuestions].sort(() => 0.5 - Math.random());
            currentQuestionIndex = 0;
            score = 0;
            lives = 3;
            skipsAvailable = 1;

            scoreEl.textContent = score;
            updateLivesDisplay();
            skipCountEl.textContent = skipsAvailable;
            skipButton.disabled = false;
            skipButton.classList.remove('opacity-50', 'cursor-not-allowed');
            skipButton.classList.add('bg-amber-500', 'hover:bg-amber-600');


            startButton.style.display = 'none';
            restartButton.style.display = 'none';
            messageAreaEl.textContent = '';
            
            clockContainerEl.style.display = 'block';
            optionsAreaEl.style.display = 'grid';
            questionAreaEl.style.display = 'block';
            statusBarEl.style.display = 'flex';
            skipButton.style.display = 'inline-block';


            loadQuestion();
        }

        function drawClock() {
            const angle = (timeLeft / 60) * 360;
            secondHandEl.setAttribute('transform', `rotate(${angle} 50 50)`);
        }

        function startTimer() {
            timeLeft = 60;
            drawClock(); // Initial position
            clearInterval(timerInterval); // Clear any existing timer
            timerInterval = setInterval(() => {
                timeLeft--;
                drawClock();
                if (timeLeft <= 0) {
                    clearInterval(timerInterval);
                    handleAnswer(false, true); // Timeout is like a wrong answer
                }
            }, 1000);
        }

        function loadQuestion() {
            if (currentQuestionIndex >= shuffledQuestions.length) {
                endGame(true); // Won the game
                return;
            }

            const currentQuestion = shuffledQuestions[currentQuestionIndex];
            questionTextEl.textContent = currentQuestion.question;
            option1Button.textContent = currentQuestion.options[0].text;
            option1Button.onclick = () => handleAnswer(currentQuestion.options[0].correct);
            option2Button.textContent = currentQuestion.options[1].text;
            option2Button.onclick = () => handleAnswer(currentQuestion.options[1].correct);

            option1Button.disabled = false;
            option2Button.disabled = false;
            option1Button.className = 'option-button bg-sky-500 hover:bg-sky-600 text-white font-semibold py-3 px-4 rounded-lg shadow';
            option2Button.className = 'option-button bg-sky-500 hover:bg-sky-600 text-white font-semibold py-3 px-4 rounded-lg shadow';

            messageAreaEl.textContent = '';
            startTimer();
        }

        function handleAnswer(isCorrect, isTimeout = false) {
            clearInterval(timerInterval);
            option1Button.disabled = true;
            option2Button.disabled = true;

            if (isTimeout) {
                messageAreaEl.textContent = "Tempo esgotado! ‚åõ";
                messageAreaEl.className = 'message-incorrect';
                lives--;
            } else if (isCorrect) {
                messageAreaEl.textContent = "Correto! ‚úÖ";
                messageAreaEl.className = 'message-correct';
                score += 10;
            } else {
                messageAreaEl.textContent = "Incorreto! ‚ùå";
                messageAreaEl.className = 'message-incorrect';
                lives--;
            }

            scoreEl.textContent = score;
            updateLivesDisplay();

            if (lives <= 0) {
                setTimeout(() => endGame(false), 2000); // Lost the game
            } else {
                currentQuestionIndex++;
                setTimeout(loadQuestion, 2000); // Wait 2 seconds before next question
            }
        }

        function skipQuestion() {
            if (skipsAvailable > 0) {
                skipsAvailable--;
                skipCountEl.textContent = skipsAvailable;
                clearInterval(timerInterval);
                messageAreaEl.textContent = "Pergunta pulada! ‚è≠Ô∏è";
                messageAreaEl.className = 'message-info';
                
                if (skipsAvailable === 0) {
                    skipButton.disabled = true;
                    skipButton.classList.add('opacity-50', 'cursor-not-allowed');
                    skipButton.classList.remove('bg-amber-500', 'hover:bg-amber-600');
                }
                currentQuestionIndex++;
                setTimeout(loadQuestion, 1500);
            }
        }

        function endGame(won) {
            clearInterval(timerInterval);
            clockContainerEl.style.display = 'none';
            optionsAreaEl.style.display = 'none';
            questionAreaEl.style.display = 'none';
            skipButton.style.display = 'none';

            if (won) {
                messageAreaEl.textContent = `Parab√©ns! Voc√™ completou o quiz! Pontua√ß√£o final: ${score} üéâ`;
                messageAreaEl.className = 'message-correct text-xl';
            } else {
                messageAreaEl.textContent = `Fim de Jogo! Voc√™ n√£o tem mais vidas. Pontua√ß√£o final: ${score} üíî`;
                messageAreaEl.className = 'message-incorrect text-xl';
            }
            restartButton.style.display = 'inline-block';
        }
        
        // Initial setup to hide game elements until start
        clockContainerEl.style.display = 'none';
        optionsAreaEl.style.display = 'none';
        questionAreaEl.style.display = 'none';
        statusBarEl.style.display = 'none';
        skipButton.style.display = 'none';


        startButton.addEventListener('click', startGame);
        restartButton.addEventListener('click', startGame); // Restart calls startGame to reset everything
        skipButton.addEventListener('click', skipQuestion);

    </script>
</body>
</html>
